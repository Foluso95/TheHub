{% extends "base.html" %}
{% block content %}
<div class="glass">
    <h2>Live <span class="accent">Flight Board</span></h2>
    <input type="text" id="flightSearch" placeholder="Search flights..." style="width: 100%; padding: 12px; margin-bottom: 20px; border-radius: 8px; border: 1px solid #1e293b; background: #020617; color: white;">
    <table style="width: 100%; text-align: left;">
        <thead style="color: #64748b;"><tr><th>FLIGHT</th><th>AIRLINE</th><th>ACTION</th></tr></thead>
        <tbody id="flightTable">
            {% for f in flights %}
            <tr style="border-bottom: 1px solid #1e293b;">
                <td style="padding: 1rem 0; font-weight: bold;">{{ f.flight_iata }}</td>
                <td>{{ f.airline_iata }}</td>
                <td><a href="/checkout" style="background: var(--accent); color: black; padding: 5px 10px; border-radius: 4px; text-decoration: none; font-weight: bold;">BUY DATA</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<script>
document.getElementById('flightSearch').addEventListener('keyup', function() {
    let filter = this.value.toUpperCase();
    let rows = document.querySelectorAll('#flightTable tr');
    rows.forEach(row => { row.style.display = row.innerText.toUpperCase().includes(filter) ? "" : "none"; });
});
</script>
{% endblock %}
