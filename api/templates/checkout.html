{% extends "base.html" %}
{% block content %}
<div class="glass" style="max-width: 600px; margin: 4rem auto; text-align: center;">
    <h2>Payment <span class="accent">Gateway</span></h2>
    <p style="color: #94a3b8;">Choose your method to unlock full data logs.</p>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 2rem;">
        <div style="border: 1px solid #1e293b; padding: 20px; border-radius: 12px;">
            <h4>Bank / Card</h4>
            <a href="{{ paystack }}" target="_blank" style="display: block; background: #4ade80; color: black; padding: 12px; border-radius: 8px; text-decoration: none; font-weight: bold;">PAYSTACK</a>
        </div>
        <div style="border: 1px solid #1e293b; padding: 20px; border-radius: 12px;">
            <h4>Crypto</h4>
            <button onclick="pay()" style="width: 100%; background: var(--accent); border: none; padding: 12px; border-radius: 8px; font-weight: bold; cursor: pointer;">METAMASK</button>
        </div>
    </div>
</div>
<script>
async function pay() {
    if (window.ethereum) {
        const acc = await window.ethereum.request({ method: 'eth_requestAccounts' });
        const tx = { to: '{{ wallet }}', from: acc[0], value: '0x16345785D8A0000' };
        await ethereum.request({ method: 'eth_sendTransaction', params: [tx] });
    } else { alert("Please install MetaMask."); }
}
</script>
{% endblock %}
